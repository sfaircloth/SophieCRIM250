---
title: "Assignments"
output:
  pdf_document:
    toc: no
    toc_depth: '1'
  html_document:
    toc: yes
    toc_float: yes
    collapsed: no
    number_sections: no
    toc_depth: 1
  word_document:
    toc: yes
    toc_depth: '1'
---
I want you to submit your assignment as a PDF, so I can keep a record of what the code looked like that day. I also want you to include your answers on your personal GitHub website. This will be good practice for editing your website and it will help you produce something you can keep after the class is over.

1. Download the Assignment1.Rmd file from Canvas. You can use this as a template for writing your answers. It's the same as what you can see on my website in the Assignments tab. Once we're done with this I'll edit the text on the website to include the solutions.

2. On RStudio, open a new R script in RStudio (File > New File > R Script). This is where you can test out your R code. You'll write your R commands and draw plots here.

3. Once you have finalized your code, copy and paste your results into this template (Assignment 1.Rmd). For example, if you produced a plot as the solution to one of the problems, you can copy and paste the R code in R markdown by using the ` ``{r} ``` ` command. Answer the questions in full sentences and Save.

4. Produce a PDF file with your answers. To do this, knit to PDF (use Knit button at the top of RStudio), locate the PDF file in your docs folder (it's in the same folder as the Rproj), and submit that on on Canvas in Assignment 1.

5. Build Website, go to GitHub desktop, commit and push. Now your solutions should be on your website as well.

# Assignment 1

_This assignment is due on Canvas on Monday 9/20 before class, at 10:15 am. Include the name of anyone with whom you collaborated at the top of the assignment._


### Problem 1 

_Install the datasets package on the console below using `install.packages("datasets")`. Now load the library._

```{r}
library(datasets)
```


_Load the USArrests dataset and rename it `dat`. Note that this dataset comes with R, in the package datasets, so there's no need to load data from your computer. Why is it useful to rename the dataset?_

**Answer**: Well, we want to replicate analyses. That’s why it’s nice to rename data.

```{r}
dat <- USArrests
```

### Problem 2

_Use this command to make the state names into a new variable called State. _
```{r}
library(dplyr)
dat$state <- tolower(rownames(USArrests))
```
_I used the dplyr package in order to rename this variable. I am sure there are other ways to do this but I used old reliable!_

_This dataset has the state names as row names, so we just want to make them into a new variable. We also make them all lower case, because that will help us draw a map later - the map function requires the states to be lower case._


_List the variables contained in the dataset `USArrests`._

```{r}
names(dat)
```
**Answer**: The four variables are Murder, Assault, UrbanPop, and Rape.

### Problem 3 

_What type of variable (from the DVB chapter) is `Murder`? 
_
**Answer**: quantitative variable

_What R Type of variable is it?_

```{r}
typeof(dat$Murder)
```
**Answer**: double


### Problem 4

_What information is contained in this dataset, in general? What do the numbers mean? _

**Answer**: The information in this dataset is a set of the number of arrests for different violent crimes in the United States, as divided by state. The numbers represent the numeric value of arrests per 100,000 residents for assault, murder, and rape in each of the 50 US states, also providing the percent of the population living in urban areas (UrbanPop).

### Problem 5

_Draw a histogram of `Murder` with proper labels and title._

```{r}
hist(dat$Murder, col = 'red', ylab = 'Frequency', xlab = 'Murder Arrests per 100,000 residents', main = 'Histogram of Murder Arrests in the US', sub = '(by state)')
```

### Problem 6

_Please summarize `Murder` quantitatively. What are its mean and median? What is the difference between mean and median? What is a quartile, and why do you think R gives you the 1st Qu. and 3rd Qu.?_

```{r}
summary(dat$Murder)
```
**Answer**: The mean of the Murder variable is 7.788 (murder arrests per 100,000 residents of a state). The median is 7.250 (murder arrests per 100,000 residents of a state). The difference between these two values quantitatively is 0.538. The difference qualitatively is that the mean represents the average number of murder arrests per 100,000 residents of all US states while the median is the middle value of the data set, showing the data has a slight right skew. A quartile isdivides the dataset into four parts, with Q1 being the median of the lower half of the dataset and Q3 being the median of the upper half of the data set. R gives you this information because quartiles can be helpful in determining where a specific data point falls in the set; for example, if a value for "Murders" is greater than Q3, 11.250, we can more reasonably assume that this state has an exceptionally high murder rate in comparison to other states in the US. If a state has a value for "Murders" that is less than 4.075, we can more reasonably assume that this state is relatively safer than other US states!

### Problem 7

_Repeat the same steps you followed for `Murder`, for the variables `Assault` and `Rape`. Now plot all three histograms together. You can do this by using the command `par(mfrow=c(3,1))` and then plotting each of the three. _

```{r, echo = TRUE, fig.width = 5, fig.height = 8}
hist(dat$Assault, col = 'red', ylab = 'Frequency', xlab = 'Assault Arrests per 100,000 residents', main = 'Histogram of Assault Arrests in the US', sub = '(by state)')
summary(dat$Assault)
hist(dat$Rape, col = 'red', ylab = 'Frequency', xlab = 'Rape Arrests per 100,000 residents', main = 'Histogram of Rape Arrests in the US', sub = '(by state)')
summary(dat$Rape)
par(mfrow=c(3,1))
hist(dat$Murder, col = 'red', ylab = 'Frequency', xlab = 'Murder Arrests per 100,000 residents', main = 'Histogram of Murder Arrests in the US', sub = '(by state)')
hist(dat$Assault, col = 'red', ylab = 'Frequency', xlab = 'Assault Arrests per 100,000 residents', main = 'Histogram of Assault Arrests in the US', sub = '(by state)')
summary(dat$Assault)
hist(dat$Rape, col = 'red', ylab = 'Frequency', xlab = 'Rape Arrests per 100,000 residents', main = 'Histogram of Rape Arrests in the US', sub = '(by state)')
```

_What does the command par do, in your own words (you can look this up by asking R `?par`)?_

**Answer**: The par function allows an R user to look at the graphical parameters that control how graphs are displayed. In the case of the par(mfrow=c(3,1)) function, we are able to not only look at the graphical parameters, but control them so that we can decide how many subplots we want displayed.

_What can you learn from plotting the histograms together?_

**Answer**: From plotting the histograms together, we can view a comparison of the distributions in relation to each other, examining skew and quartile arrangement to see how distributions vary by crime type. On a more general note, plotting the histograms together allows us to see generally how frequency and distribution relationships among multiple variables interact, allowing a viewer a more clear image of the relationship between variables while still being able to view a more individualistic look at each histogram.
  
### Problem 8

_In the console below (not in text), type `install.packages("maps")` and press Enter, and then type `install.packages("ggplot2")` and press Enter. This will install the packages so you can load the libraries._

_Run this code:_

```{r, fig.width = 7.5, fig.height = 4}

library(maps) 
library(ggplot2) 

ggplot(dat, aes(map_id=state, fill=Murder)) + 
  geom_map(map=map_data("state")) + 
  expand_limits(x=map_data("state")$long, y=map_data("state")$lat)
```

_What does this code do? Explain what each line is doing._

**Answer**: ggplot is the most basic implementation of any data visualization in R. In this instance, the first line of code is filling out the basic information of the data visual by specifying the variables which are involved in the plot. The second line of code employs the maps package and ggplot2 package to choose specifically to create a mapping of the selected variables, using states as the selected implementation of the map. The third line employs the expand_limit function in order to ensure that the limits of the visualization include a single value for all aspects of the plot, implying what should be included in the scale.

$$\\[2in]$$

# Assignment 2

Instructions: Copy your code, paste it into a Word document, and turn it into Canvas. You can turn in a .docx or .pdf file. Show any EDA (graphical or non-graphical) you have used to come to this conclusion.


## Problem 1: Load data

Set your working directory to the folder where you downloaded the data.
```{r}
setwd("~/Documents/GitHub/SophieCRIM250")
```

Read the data
```{r}
dat <- read.csv(file = 'dat.nsduh.small.1.csv')
```
What are the dimensions of the dataset? 

```{r}
names(dat)
dim(dat)
```

- The dimensions are 171 x 7

## Problem 2: Variables

Describe the variables in the dataset.
- mjage is a variable that denotes how old someone was the first time they used marijuana or hashish
- cigage is a variable that denotes how old someone was when they first started smoking cigarettes every day
- iralcage is a variable that denotes how old someone was when they first tried alcohol, numbers greater than 900 implying never used or lack of answer
- age2 is a variable that splits people up into groups based on respondent age
- sexatract is a variable that splits people into groups based on sexual attraction, each number denoting a different sexual preference
- speakengl is a variable that splits people into groups based off of their english literacy
- irsex is a variable that splits people into two different groups based on a binary gender system, 1 being male and 2 being female

What is this dataset about? Who collected the data, what kind of sample is it, and what was the purpose of generating the data?
- This dataset is about the health and drug use statistics of the United States. 
- This data is from the National Survey on Drug Use and Health, conducted by The Substance Abuse and Mental Health Services Administration in the US Department of Health and Human Services.
- This is a random sample.
- The data was generated for the sake of government agencies, private organizations, individual researchers, and the public at large for a number of different purposes.
- This data is used mainly to provide more information on substance use and demographic statistics in the United States.

## Problem 3: Age and gender

What is the age distribution of the sample like? Make sure you read the codebook to know what the variable values mean.
```{r}
hist(dat$age2)
summary(dat$age2)
```
- The age distribution is left skewed, with a mean of 13.98 (representing ages 26-29) and median of 15 (representing ages 35-49). 
# Do you think this age distribution representative of the US population? Why or why  not?
- I do feel like this sample is representative. The distribution of ages in the age set are misleading; the ages of 18-49 (as represented by groups 7-15) are the majority of the sample, which is consistent with the most recent US Census. 
# Is the sample balanced in terms of gender? If not, are there more females or males?
```{r}
summary(dat$irsex)
```
- This sample is fairly balanced in terms of gender. The mean for the irsex variable is 1.468, meaning the sample is fairly balanced in terms of sex.
# Use this code to draw a stacked bar plot to view the relationship between sex and age. What can you conclude from this plot?
```{r}
tab.agesex <- table(dat$irsex, dat$age2)
barplot(tab.agesex,
        main = "Stacked barchart",
        xlab = "Age category", ylab = "Frequency",
        legend.text = rownames(tab.agesex),
        beside = FALSE) # Stacked bars (default)
```
- This plot demonstrates that the distribution is fairly balanced in age, with the majority of participants on either tail of the data being mainly males.

## Problem 4: Substance use

For which of the three substances included in the dataset (marijuana, alcohol, and cigarettes) do individuals tend to use the substance earlier?
```{r}
par(mfrow=c(3,1))
hist(dat$mjage, col = 'red', ylab = 'Frequency', xlab = 'Age category', main = 'Histogram of Marijuana Usage')
hist(dat$cigage , col = 'red', ylab = 'Frequency', xlab = 'Age category', main = 'Histogram of Cigarette Usage')
hist(dat$iralcage, col = 'red', ylab = 'Frequency', xlab = 'Age category', main = 'Histogram of Alcohol Consumption')
```
- Individuals tend to use marijuana at the youngest age out of the three substances.

## Problem 5: Sexual attraction
```{r}
library(ggplot2)
```
## What does the distribution of sexual attraction look like? Is this what you expected?
```{r}
hist(dat$sexatract)
summary(dat$sexatract)
table(dat$sexatract)
```
- According to the numeric system for sexual attraction, this gives the distribution a strong right skew.
- This is not a necessarily surprising result, considering there is generally a strong heterosexual representation in the United States, especially on representative surveys.
- While I do not feel this is truly representative of the United States, there are many people who may feel uncomfortable correctly identifying sexual preference on a survey used by government organizations and regarding personal information (even if it is later encoded).

## What is the distribution of sexual attraction by gender? 
```{r}
genatt <- table(dat$irsex, dat$sexatract)
barplot(genatt,
        main = "Stacked barchart",
        xlab = "Gender", ylab = "Frequency",
        legend.text = rownames(genatt),
        beside = FALSE) # Stacked bars (default)
sum(dat$sexatract == 1 & dat$irsex == 1)
- 82
sum(dat$sexatract == 1 & dat$irsex == 2)
- 54
```
- The distribution of sexual attraction is highly populated by those who identified (via the codebook) as only being attracted to the opposite gender.
- A smaller number of women identify as being heterosexual than men, thought this could be slightly biased due to a smaller sample size of women.
## Problem 6: English speaking

What does the distribution of English speaking look like in the sample? Is this what you might expect for a random sample of the US population?
summary(dat$speakengl)
table(dat$speakengl)
- Majority of the sample are English speakers, with 169 of the 171 respondents self-identifying as speaking English well or very well and only two respondents not speaking English well.
- This is not what I would expect from a random sample of the US, but makes sense in the fact that this is a survey administered in English, probably leading to some sampling bias in a high yield of English speakers.
Are there more English speaker females or males?
```{r}
sum(dat$speakengl == 1 & dat$irsex == 1)
- 84
sum(dat$speakengl == 1 & dat$irsex == 2)
- 77
sum(dat$speakengl == 2 & dat$irsex == 1)
- 7
sum(dat$speakengl == 2 & dat$irsex == 2)
- 1
sum(dat$speakengl == 3 & dat$irsex == 1)
- 0
sum(dat$speakengl == 3 & dat$irsex == 2)
- 2
```
- Assuming that we say that "not an English speaker" is characterized by someone self-assessing themselves as speaking English "not well," there is a higher number of female non-English speakers.
- This means that, from this very limited data set, there is a higher number of male English speakers.





# Exam 1

## Instructions

a. Create a folder in your computer (a good place would be under Crim 250, Exams). 

b. Download the dataset from the Canvas website (fatal-police-shootings-data.csv) onto that folder, and save your Exam 1.Rmd file in the same folder.

c. Download the README.md file. This is the codebook. 

d. Load the data into an R data frame.
```{r}
dat <- read.csv("~/Documents/GitHub/SophieCRIM250/fatal-police-shootings-data.csv")
```


## Problem 1 (10 points)

a. Describe the dataset. This is the source: https://github.com/washingtonpost/data-police-shootings . Write two sentences (max.) about this.

__This data is a recording of fatal shootings by police officers in the line of duty since Jan. 1, 2015. This data, as recorded in the Washington Post database, is separated by circumstances under which the fatality ensued.__

b. How many observations are there in the data frame?
```{r}
dim(dat)
```

__There are 6594 observations in this data set, categorized by 17 different variables.__

c. Look at the names of the variables in the data frame. Describe what "body_camera", "flee", and "armed" represent, according to the codebook. Again, only write one sentence (max) per variable.
```{r}
names(dat)
```

__body_camera: This variable indicates whether or not the officer involved in the incident was wearing a body camera.__
__flee: This variable indicates whether or not the victim appeared to be moving away from the officer at the time of the shooting, divided into three possibilities: fleeing in a car, fleeing on foot, not fleeing.__
__armed: This variable indicates whether or not a victim was considered to be armed at the time of the shooting and if so, what they were armed with.__

d. What are three weapons that you are surprised to find in the "armed" variable? Make a table of the values in "armed" to see the options.
```{r}
armeddat <- table(dat$armed)
armeddat
```

__In the armed variable, I was most surprised to see that people were "armed" with a pitchfork (very medieval), a pen (???), and an air conditioner.__

## Problem 2 (10 points)

a. Describe the age distribution of the sample. Is this what you would expect to see?
```{r}
hist(dat$age)
```

__The distribution shows a right skew to the ages of victims in recorded fatal shootings. I feel like this is fairly predictable, as the average age in the US is 38, and we know that fatal shootings often occur in over-policed low-income areas where the majority of people who are out and about are the working class of these areas, putting majority of their ages around 20-40 years old.__

b. To understand the center of the age distribution, would you use a mean or a median, and why? Find the one you picked.
```{r}
summary(dat$age)
```

__I would use the median of the data. Because the data is skewed, the median is a better measure of central tendency than the mean as it is more representative of the sample given what we know about it's distribution. The median is 35, as in 35 years old is the average age of someone involved in a fatal shooting in the United States at the hand of police.__

c. Describe the gender distribution of the sample. Do you find this surprising?
```{r}
table(dat$gender)
```

__I do find this surprising. Given that there is a fairly predictable distribution of ages in this data set, you would assume there be an equally as predictable distribution of gender. However, knowing what we know about fatal shootings by police in the United States, the narrative portrayed by police officers often follows the line of not-being-confident-in-a-lack-of-threat-from-the-victim. While this narrative is incredibly frustrating, it does align with the uneven distribution of men and women in this event because women often are portrayed as being a lower threat level than men in general.__


## Problem 3 (10 points)

a. How many police officers had a body camera, according to news reports? What proportion is this of all the incidents in the data? Are you surprised that it is so high or low?

```{r}
table(dat$body_camera)
910/6594
# prop.table(dat$body_camera)
# would have to convert to numeric, can just get proportion via simple math
```

__According to the news, 910 of the officers had a body camera at the time of the incident. This is 13.800% of the incidents in this data. This proportion being so low is surprising to me because I thought that it was protocol as of the past few years for officers to wear body cameras when on duty. The fact that this statistic is so low is very concerning.__

b. In  how many of the incidents was the victim fleeing? What proportion is this of the total number of incidents in the data? Is this what you would expect?
```{r}
table(dat$flee)
1058 + 845
1903/6594
```

__The victim was fleeing in 1058 of the incidents (either by car or on foot: "other" answers and not included answers on this were excluded due to lack of information). This is 28.860% of the data set. This is not surprising given what we know about police brutality in the United States, but it is very concerning. This means that over 70% of victims who were shot fatally by police were not fleeing.__



## Problem 4 (10 points) -  Answer only one of these (a or b).

a. Describe the relationship between the variables "body camera" and "flee" using a stacked barplot. What can you conclude from this relationship? 

*Hint 1: The categories along the x-axis are the options for "flee", each bar contains information about whether the police officer had a body camera (vertically), and the height along the y-axis shows the frequency of that category).*

*Hint 2: Also, if you are unsure about the syntax for barplot, run ?barplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.*


```{r}
counts <- table(dat$body_camera, dat$flee)
barplot(counts, col=c("red", "blue"), legend=TRUE, xlab="Flee", ylab="Frequency")
```

__From this relationship, we can see that there is an even proportion of body cam presence across all flee categories, demonstrating that the presence of a body cam does not seem to affect whether or not someone in this study fled or not. Though there is a section in the distribution that is unlabelled due to the flee variable being unmarked in these instances, even this variable demonstrates an even distribution.__

b. Describe the relationship between age and race by using a boxplot. What can you conclude from this relationship? 

*Hint 1: The categories along the x-axis are the race categories and the height along the y-axis is age.* 

*Hint 2: Also, if you are unsure about the syntax for boxplot, run ?boxplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.*


```{r}

```

__Your answer here.__






## Extra credit (10 points)

a. What does this code tell us? 

```{r, eval=FALSE}
mydates <- as.Date(dat$date)
head(mydates)
(mydates[length(mydates)] - mydates[1])
```

__This code tells us the difference in time between the first and last recorded date in the data set.__

b. On Friday, a new report was published that was described as follows by The Guardian: "More than half of US police killings are mislabelled or not reported, study finds." Without reading this article now (due to limited time), why do you think police killings might be mislabelled or underreported?

__Unfortunately, the reach of the police department is seen in the representation of police killings in reportings. Because an accurate report of fatal shootings at the hands of police relies on a pure and fully not corrupted police force and governmental power, there would be several levels of responsibility that would have to be upheld to ensure that all incidents of fatal shootings by police would be reported accurately. As the article by The Guardian says, "The same government responsible for this violence is also responsible for reporting on it."__

c. Regarding missing values in problem 4, do you see any? If so, do you think that's all that's missing from the data?

__There is visibly missing data in the flee variable. This is likely not all the data that is missing from the data set because it is not rare for data to be missing in such a large data set like this.__
